
%%% Initial state

\draw (0, 0) grid (3, 3);


\node at (0 + 0.5, 0 + 0.5) {1};
\draw[fill=gray] (1,0) rectangle (2, 1);
\node at (2 + 0.5, 0 + 0.5) {3};

\node at (0 + 0.5, 1 + 0.5) {*};
\node at (1 + 0.5, 1 + 0.5) {*};
\node at (2 + 0.5, 1 + 0.5) {2};

\node at (0 + 0.5, 2 + 0.5) {*};
\node at (1 + 0.5, 2 + 0.5) {4};
\node at (2 + 0.5, 2 + 0.5) {*};

\node at (1.5, -0.5) {Initial State};

%%% Goal state
\pgfmathsetmacro{\base}{4}

\draw (\base+0, 0) grid (\base+3, 3);

\foreach \x in {0,...,2}
{
  \foreach \y in {0,...,2}
  {
        \pgfmathsetmacro{\val}{int(\x+3*\y+1)}
        \ifthenelse{\x=2 \AND \y=2}{;}{
          \ifthenelse{\val>4}{
            \node at (\base+\x + 0.5, 2 - \y + 0.5) {*};
          }{
            \node at (\base+\x + 0.5, 2 - \y + 0.5) {\val};
          }
        }
  }
}
\draw[fill=gray] (\base+2,0) rectangle (\base+3, 1);

\node at (\base+1.5, -0.5) {Goal State};
